// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// prisma/schema.prisma

model geCourseList {
  id              Int     @id @default(autoincrement())
  institution     String
  geCategory      String
  courses         cvcCourse[] 

  @@unique([geCategory, institution], name: "unique_geCategory_institution")
  @@map("geCourseLists")
}

model cvcCourse {
  id                   Int      @id @default(autoincrement())
  targetInstitution    String   // Probably redundant but I'm keeping it anyway 
  sendingInstitution   String
  courseCode           String
  courseName           String
  cvcId                String
  niceToHaves          String[]
  units                Float
  term                 String
  startMonth           Int      // Not space efficient but the db isn't super super huge so it doesn't matter too much 
  startDay             Int
  endMonth             Int
  endDay               Int
  tuition              Int
  async                Boolean
  hasOpenSeats         Boolean
  hasPrereqs           Boolean
  instantEnrollment    Boolean
  assistPath           String
  articulatesTo        String[]
  fulfillsGEs          String[]
  
  geCourseList geCourseList @relation(fields: [geCourseListId], references: [id])
  geCourseListId Int

  @@map("cvcCourses")
}